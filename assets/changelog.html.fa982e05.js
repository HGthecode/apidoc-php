import{_ as i}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as l,c as o,b as n,d as a,e as c,a as s,r as p}from"./app.97339b06.js";const t={},d=s(`<h1 id="更新日志" tabindex="-1"><a class="header-anchor" href="#更新日志" aria-hidden="true">#</a> 更新日志</h1><ul><li>主版本号：含有破坏性更新和新特性，不在发布周期内。</li><li>次版本号：带有新特性的向下兼容的版本。</li><li>修订版本号：日常 bugfix 更新</li></ul><h2 id="v5-0-10" tabindex="-1"><a class="header-anchor" href="#v5-0-10" aria-hidden="true">#</a> v5.0.10</h2><p><code>2023-05-08</code></p><blockquote><p>需升级前端文件至 v3.0.5</p></blockquote><ul><li>修正代码模板生成器的接口关键词筛选不生效问题。</li><li>apps的path支持配置为数组，来指定多个目录的控制器。</li><li><code>Param</code>、<code>Query</code>、<code>Returned</code>、<code>AddField</code>注解支持table来指定数据表解析。</li></ul><h2 id="v5-0-9" tabindex="-1"><a class="header-anchor" href="#v5-0-9" aria-hidden="true">#</a> v5.0.9</h2><p><code>2023-05-02</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>增加清除缓存时将自动注册路由的缓存一并清除。</li><li>修复模型注解对自定义解析无效问题。</li><li>修复自动注册路由，注册中间件调用异常问题。</li></ul><h2 id="v5-0-8" tabindex="-1"><a class="header-anchor" href="#v5-0-8" aria-hidden="true">#</a> v5.0.8</h2><p><code>2023-04-25</code></p><blockquote><p>需升级前端文件至 v3.0.4</p></blockquote><ul><li>兼容php7.1。</li><li>修正formdata为空时传null的问题。</li><li>修正接口生成器提交成功后接口菜单不刷新问题。</li><li>修正自动注册路由跨域OPTIONS请求无效问题。</li><li>增加接口生成器表单项可配置默认值。</li><li>增加前端配置参数<code>API_TABLE_PROPS</code>，来控制接口详情的Table。</li><li>接口生成器的数据表配置中的<code>namespace</code>、<code>path</code>支持使用应用/版本变量替换。</li><li><code>Param</code>、<code>Query</code>、<code>Returned</code>、<code>RouteParam</code>、<code>AddField</code>注解支持自定义参数。</li><li>增加apidoc.php配置参数<code>parsesAnnotation</code>用于自定义处理注解解析。</li></ul><h2 id="v5-0-7" tabindex="-1"><a class="header-anchor" href="#v5-0-7" aria-hidden="true">#</a> v5.0.7</h2><p><code>2023-04-09</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>修正生成所有缓存异常问题。</li></ul><h2 id="v5-0-6" tabindex="-1"><a class="header-anchor" href="#v5-0-6" aria-hidden="true">#</a> v5.0.6</h2><p><code>2023-04-04</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>修正响应体<code>ResponseSuccess</code> <code>ResponseError</code>的ref不解析问题。</li></ul><h2 id="v5-0-5" tabindex="-1"><a class="header-anchor" href="#v5-0-5" aria-hidden="true">#</a> v5.0.5</h2><p><code>2023-04-03</code></p><blockquote><p>需升级前端文件至 v3.0.3</p></blockquote><ul><li>修正AddField注解children不解析问题。</li><li>接口文档页Table默认展开子参数。</li><li>模型注解AddField支持ref。</li></ul><h2 id="v5-0-4" tabindex="-1"><a class="header-anchor" href="#v5-0-4" aria-hidden="true">#</a> v5.0.4</h2><p><code>2023-03-29</code></p><blockquote><p>需升级前端文件至 v3.0.2</p></blockquote><ul><li>修正使用了Field注解报错问题。</li><li>修正特殊注释NotResponseSuccess无效问题。</li><li>修正ts生成object类型解析为array的异常问题。</li><li>修正默认值为空对象，json生成异常问题。</li></ul><h2 id="v5-0-3" tabindex="-1"><a class="header-anchor" href="#v5-0-3" aria-hidden="true">#</a> v5.0.3</h2><p><code>2023-03-28</code></p><blockquote><p>需升级前端文件至 v3.0.1</p></blockquote><ul><li>Query/Param/Returned注解支持children子参数注解中直接使用ref。</li><li>支持接口调试响应参数的Hover提示。</li><li>修正ref引用文件/方法不存在时，提示异常不准确问题。</li><li>修正Laravel异常显示问题。</li></ul><h2 id="v5-0-2" tabindex="-1"><a class="header-anchor" href="#v5-0-2" aria-hidden="true">#</a> v5.0.2</h2><p><code>2023-03-18</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>修正全局参数body配置后异常问题。</li></ul><h2 id="v5-0-1" tabindex="-1"><a class="header-anchor" href="#v5-0-1" aria-hidden="true">#</a> v5.0.1</h2><p><code>2023-03-18</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>修正兼容PHP7.4以下不兼容...报错问题。</li></ul><h2 id="v5-0-0" tabindex="-1"><a class="header-anchor" href="#v5-0-0" aria-hidden="true">#</a> v5.0.0</h2><p><code>2023-03-17</code></p><blockquote><p>需升级前端文件至 v3.0.0</p></blockquote><ul><li>支持php8原生注解。</li><li>兼容Hyperf3.x。</li><li>将md与mdRef合并，废弃mdRef。</li><li>支持全局参数md配置。</li><li>支持接口json字段名Hover提示。</li><li>修正模型引用表前缀无效问题。</li><li>修正数据表非空解析为必填参数异常问题。</li></ul><h2 id="v4-2-1" tabindex="-1"><a class="header-anchor" href="#v4-2-1" aria-hidden="true">#</a> v4.2.1</h2><p><code>2023-01-28</code></p><blockquote><p>需升级前端文件至 v0.1.1</p></blockquote><ul><li>增加接口详情页，刷新当前页面的按钮。</li><li>调整ResponseSuccess注解不替换全局响应体配置，改为合并。</li><li>全局参数修改时，同步到调试的接口参数。</li></ul><h2 id="v4-2-0" tabindex="-1"><a class="header-anchor" href="#v4-2-0" aria-hidden="true">#</a> v4.2.0</h2><p><code>2023-01-14</code></p><blockquote><p>需升级前端文件至 v0.1.0</p></blockquote><ul><li>支持自动注册路由。</li><li>修正php8.1环境下开启密码验证报错问题。</li><li>修正全局body参数赋值异常问题。</li><li>修正ajax事件，嵌套单个事件时不正常执行问题。</li><li>优化异常提示。</li><li>前端配置支持，自定义处理字段说明/MD内容。</li><li>内置兼容Webman框架，无需繁杂的手动配置兼容。</li><li>简化Hyperf框架路由注册方式，升级到此版本参考以下方式修改：</li></ul><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// config/routes.php</span>
<span class="token comment">// 将这些代码</span>
<span class="token keyword">use</span> <span class="token package">hg<span class="token punctuation">\\</span>apidoc<span class="token punctuation">\\</span>providers<span class="token punctuation">\\</span>CommonService</span><span class="token punctuation">;</span>
<span class="token class-name static-context">CommonService</span><span class="token operator">::</span><span class="token function">registerApidocRoutes</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Router</span><span class="token operator">::</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;method&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;uri&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;callback&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;middleware&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token class-name class-name-fully-qualified static-context">hg<span class="token punctuation">\\</span>apidoc<span class="token punctuation">\\</span>providers<span class="token punctuation">\\</span>HyperfService</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 修改为这句</span>
<span class="token class-name class-name-fully-qualified static-context">hg<span class="token punctuation">\\</span>apidoc<span class="token punctuation">\\</span>providers<span class="token punctuation">\\</span>HyperfService</span><span class="token operator">::</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="v4-1-5" tabindex="-1"><a class="header-anchor" href="#v4-1-5" aria-hidden="true">#</a> v4.1.5</h2><blockquote><p>需升级前端文件至 v0.0.9</p></blockquote><ul><li>修正多应用全局参数名相同，存在调试时赋值错乱问题。</li><li>修正Webman及其它手动兼容的框架，在php8.1环境下运行报错问题。</li></ul><p>注意：Webman框架升级到此版本，需将以下文件做修改</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// app/middleware/ApidocServiceProvider.php</span>

<span class="token comment">// 将这句</span>
<span class="token keyword">use</span> <span class="token package">hg<span class="token punctuation">\\</span>apidoc<span class="token punctuation">\\</span>providers<span class="token punctuation">\\</span>CommonService</span><span class="token punctuation">;</span>
<span class="token comment">// 修改为这句</span>
<span class="token keyword">use</span> <span class="token package">hg<span class="token punctuation">\\</span>apidoc<span class="token punctuation">\\</span>providers<span class="token punctuation">\\</span>BaseService</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ApidocServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 将这句</span>
    <span class="token keyword">use</span> <span class="token package">CommonService</span><span class="token punctuation">;</span>
    <span class="token comment">// 修改为</span>
    <span class="token keyword">use</span> <span class="token package">BaseService</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="v4-1-4" tabindex="-1"><a class="header-anchor" href="#v4-1-4" aria-hidden="true">#</a> v4.1.4</h2><p><code>2022-11-29</code></p><blockquote><p>无需更新前端文件</p></blockquote><ul><li>调整路由注册方式，来修正ThinkPHP路由中间件不执行问题。</li><li>修正ThinkPHP、Laravel在基于swoole环境下无法取到请求参数而报错的问题。</li></ul><p>注意：Webman框架升级到此版本，需将以下文件做修改</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// app/middleware/ApidocServiceProvider.php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ApidocServiceProvider</span>
<span class="token punctuation">{</span>
    <span class="token comment">//...</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">process</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token keyword type-hint">callable</span> <span class="token variable">$handler</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token class-name return-type">Response</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// 删除这句</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 加上这句</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="v4-1-3" tabindex="-1"><a class="header-anchor" href="#v4-1-3" aria-hidden="true">#</a> v4.1.3</h2><p><code>2022-11-26</code></p><blockquote><p>需升级前端文件至 v0.0.8</p></blockquote><ul><li>auto_url.custom自定义url生成规则增加$url返回值。</li><li>修正自动生成url时异常问题。</li></ul><p>注意：如果之前配置了auto_url.custom来自定义实现url的生成，升级到该版本后，可能会报错；如下增加$url，参数接收即可：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// config/apidoc.php</span>
<span class="token comment">//...</span>
<span class="token string single-quoted-string">&#39;auto_url&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
        <span class="token comment">// 原来的</span>
        <span class="token string single-quoted-string">&#39;custom&#39;</span> <span class="token operator">=&gt;</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">,</span><span class="token variable">$method</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// 修改为 ；由于该版本增加了第三个参数，所以此处也需加上该参数的接收</span>
        <span class="token string single-quoted-string">&#39;custom&#39;</span> <span class="token operator">=&gt;</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">,</span><span class="token variable">$method</span><span class="token punctuation">,</span><span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="v4-1-2" tabindex="-1"><a class="header-anchor" href="#v4-1-2" aria-hidden="true">#</a> v4.1.2</h2><p><code>2022-11-26</code></p><blockquote><p>需升级前端文件至 v0.0.8</p></blockquote><ul><li>新增auto_url.handle_key配置项，用于自定义处理自动生成url的每个key。</li><li>新增前端显示版本号。</li><li>新增自定义事件name属性，用于自定义事件名称的显示。</li><li>新增ResponseSuccessMd注解，用于使用md编写成功响应体。</li><li>新增ResponseErrorMd注解，用于使用md编写失败响应体。</li><li>优化markdown的json显示效果。</li></ul><h2 id="v4-1-1" tabindex="-1"><a class="header-anchor" href="#v4-1-1" aria-hidden="true">#</a> v4.1.1</h2><p><code>2022-11-18</code></p><blockquote><p>需升级前端文件至 v0.0.7</p></blockquote><ul><li>新增自定义事件，移除原handleValue事件处理，统一由自定义事件实现。</li><li>新增全局、应用/版本全局事件调用。</li><li>增加ResponseSuccess支持require。</li><li>修正tree类型子节点展开异常问题。</li><li>修正ts生成childrenType异常问题。</li></ul><h2 id="v4-1-0" tabindex="-1"><a class="header-anchor" href="#v4-1-0" aria-hidden="true">#</a> v4.1.0</h2><p><code>2022-11-14</code></p><blockquote><p>需升级前端文件至 v0.0.5</p></blockquote>`,83),u={href:"/use/function/codeTemplate",target:"_blank",rel:"noopener noreferrer"},r=n("li",null,"增加自定义响应显示处理函数。",-1),v=n("li",null,"修正tree数据下children的类型为array<\\object>。",-1),k=n("li",null,"修正文档table多级中重复字段的显示异常问题。",-1),h=s('<h2 id="v4-0-5" tabindex="-1"><a class="header-anchor" href="#v4-0-5" aria-hidden="true">#</a> v4.0.5</h2><p><code>2022-11-11</code></p><blockquote><p>无需升级前端文件</p></blockquote><ul><li>修正ref参数合并异常问题</li></ul><h2 id="v4-0-4" tabindex="-1"><a class="header-anchor" href="#v4-0-4" aria-hidden="true">#</a> v4.0.4</h2><p><code>2022-11-10</code></p><ul><li>增加关闭文档配置。</li><li>修正ref引入参数时、且无字段名定义的子参数解析异常问题。</li><li>修正数据表生成CURRENT_TIMESTAMP默认值报错问题。</li><li>修正数组类型的显示问题。</li><li>修正字符串数组、数字数组ts生成异常问题。</li></ul><h2 id="v4-0-3" tabindex="-1"><a class="header-anchor" href="#v4-0-3" aria-hidden="true">#</a> v4.0.3</h2><p><code>2022-11-07</code></p><ul><li>修正密码验证判断问题</li><li>修正ResponseSuccess注解main无效问题</li></ul><h2 id="v4-0-2" tabindex="-1"><a class="header-anchor" href="#v4-0-2" aria-hidden="true">#</a> v4.0.2</h2><p><code>2022-11-03</code></p><ul><li>修正Hyperf表前缀获取异常问题</li></ul><h2 id="v4-0-1" tabindex="-1"><a class="header-anchor" href="#v4-0-1" aria-hidden="true">#</a> v4.0.1</h2><p><code>2022-11-03</code></p><ul><li>修正php8环境下安装异常</li></ul><h2 id="v4-0-0" tabindex="-1"><a class="header-anchor" href="#v4-0-0" aria-hidden="true">#</a> v4.0.0</h2><p><code>2022-11-02</code></p><p>开始新的征程</p>',19);function m(b,f){const e=p("ExternalLinkIcon");return l(),o("div",null,[d,n("ul",null,[n("li",null,[a("增加代码模板生成器 "),n("a",u,[a("参考文档"),c(e)]),a("。")]),r,v,k]),h])}const x=i(t,[["render",m],["__file","changelog.html.vue"]]);export{x as default};
