import{_ as l}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as p,e as u,w as a,a as d,r,b as n,d as s}from"./app.a0508732.js";const k={},m=d(`<h1 id="自动注册路由" tabindex="-1"><a class="header-anchor" href="#自动注册路由" aria-hidden="true">#</a> 自动注册路由</h1><blockquote><p>支持版本 &gt;= v4.2.0</p></blockquote><p>自动根据接口文档url注册路由，本功能默认关闭，如下方式配置开启即可。</p><p>配置文件<code>apidoc.php</code>中的 <code>auto_register_routes</code> 设置为 <code>true</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// apidoc.php</span>

<span class="token comment">// 是否自动注册路由</span>
<span class="token string single-quoted-string">&#39;auto_register_routes&#39;</span><span class="token operator">=&gt;</span><span class="token constant boolean">true</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="路由中间件" tabindex="-1"><a class="header-anchor" href="#路由中间件" aria-hidden="true">#</a> 路由中间件</h2><p>可通过如下注解定义路由中间件</p>`,7),b=n("div",{class:"language-php line-numbers-mode","data-ext":"php"},[n("pre",{class:"language-php"},[n("code",null,[s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("hg"),n("span",{class:"token punctuation"},"\\"),s("apidoc"),n("span",{class:"token punctuation"},"\\"),s("annotation")]),s(),n("span",{class:"token keyword"},"as"),s(" Apidoc"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("app"),n("span",{class:"token punctuation"},"\\"),s("common"),n("span",{class:"token punctuation"},"\\"),s("middleware"),n("span",{class:"token punctuation"},"\\"),s("TestMiddleware1")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("app"),n("span",{class:"token punctuation"},"\\"),s("common"),n("span",{class:"token punctuation"},"\\"),s("middleware"),n("span",{class:"token punctuation"},"\\"),s("TestMiddleware2")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"//控制器添加路由中间件，则该控制器所有接口都执行该中间件，参考路由分组中间件"),s(`
`),n("span",{class:"token attribute"},[n("span",{class:"token delimiter punctuation"},"#["),n("span",{class:"token attribute-content"},[n("span",{class:"token attribute-class-name class-name class-name-fully-qualified"},[s("Apidoc"),n("span",{class:"token punctuation"},"\\"),s("RouteMiddleware")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute-class-name class-name"},"TestMiddleware1"),n("span",{class:"token operator"},"::"),n("span",{class:"token constant"},"class"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token delimiter punctuation"},"]")]),s(`
`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"AutoController"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"BaseController"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token comment"},"//接口添加路由中间件"),s(`
    `),n("span",{class:"token attribute"},[n("span",{class:"token delimiter punctuation"},"#["),n("span",{class:"token attribute-content"},[n("span",{class:"token attribute-class-name class-name class-name-fully-qualified"},[s("Apidoc"),n("span",{class:"token punctuation"},"\\"),s("RouteMiddleware")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute-class-name class-name"},"TestMiddleware2"),n("span",{class:"token operator"},"::"),n("span",{class:"token constant"},"class"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token delimiter punctuation"},"]")]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"autoRoute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Request"),s(),n("span",{class:"token variable"},"$request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// 业务代码..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("div",{class:"language-php line-numbers-mode","data-ext":"php"},[n("pre",{class:"language-php"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("hg"),n("span",{class:"token punctuation"},"\\"),s("apidoc"),n("span",{class:"token punctuation"},"\\"),s("annotation")]),s(),n("span",{class:"token keyword"},"as"),s(" Apidoc"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("app"),n("span",{class:"token punctuation"},"\\"),s("common"),n("span",{class:"token punctuation"},"\\"),s("middleware"),n("span",{class:"token punctuation"},"\\"),s("TestMiddleware1")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token package"},[s("app"),n("span",{class:"token punctuation"},"\\"),s("common"),n("span",{class:"token punctuation"},"\\"),s("middleware"),n("span",{class:"token punctuation"},"\\"),s("TestMiddleware2")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token doc-comment comment"},[s(`/**
 * 控制器添加路由中间件，则该控制器所有接口都执行该中间件，参考路由分组中间件
 * @Apidoc\\RouteMiddleware(`),n("span",{class:"token punctuation"},"{"),s("TestMiddleware1::class"),n("span",{class:"token punctuation"},"}"),s(`)
 */`)]),s(`
`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name-definition class-name"},"AutoController"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"BaseController"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 接口添加路由中间件
     * @Apidoc\\RouteMiddleware(`),n("span",{class:"token punctuation"},"{"),s("TestMiddleware2::class"),n("span",{class:"token punctuation"},"}"),s(`)
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function-definition function"},"autoRoute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name type-declaration"},"Request"),s(),n("span",{class:"token variable"},"$request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// 业务代码..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function h(w,g){const e=r("CodeTabs");return i(),p("div",null,[m,u(e,{id:"21",data:[{title:"PHP8原生注解"},{title:"原始注解"}],active:0,"tab-id":"apiRoute"},{tab0:a(({title:t,value:c,isActive:o})=>[b]),tab1:a(({title:t,value:c,isActive:o})=>[v]),_:1})])}const y=l(k,[["render",h],["__file","autoRegisterRoutes.html.vue"]]);export{y as default};
