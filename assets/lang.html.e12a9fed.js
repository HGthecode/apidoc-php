import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,a as t}from"./app.fe05e39b.js";const e={},p=t(`<h1 id="多语言" tabindex="-1"><a class="header-anchor" href="#多语言" aria-hidden="true">#</a> 多语言</h1><h2 id="前端多语言" tabindex="-1"><a class="header-anchor" href="#前端多语言" aria-hidden="true">#</a> 前端多语言</h2><p>前端配置文件<code>apidoc/config.js</code>中配置<code>LANG</code>，增加/修改你所需的语言，默认为简体中文，当配置大于1个语言时，页面右上角会出现语言切换功能</p><blockquote><p>messages 中为前端页面中所需的语言变量，详见<a href="/config/fe">前端配置</a></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// /config.js</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token comment">//...</span>
   <span class="token comment">// 多语言</span>
  <span class="token constant">LANG</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;简体中文&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&quot;zh-cn&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;Engilsh&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">&quot;en-us&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置文件多语言" tabindex="-1"><a class="header-anchor" href="#配置文件多语言" aria-hidden="true">#</a> 配置文件多语言</h2><p>如果的项目存在多种语言，希望在Apidoc配置中也同样能进行多语言切换，可将apidoc.php配置文件进行如下调整</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>你的项目需按框架文档进行多语言配置，并且对使用的变量进行定义，以下用TP6举例</p></div><h3 id="定义多语言变量" tabindex="-1"><a class="header-anchor" href="#定义多语言变量" aria-hidden="true">#</a> 定义多语言变量</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// /app/lang/zh-cn.php</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;apidoc&#39;</span>    <span class="token operator">=&gt;</span>    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;apps.admin&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;后台管理&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;group.base&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;基础模块&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;headers.shopId&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;店铺id&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;params.code&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;编码&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;responses.code&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;响应编码&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;responses.message&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;操作描述&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;doc.about&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;关于&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.title&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;多语言接口&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.desc&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;多语言测试接口&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.age&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;年龄&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;姓名&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// /app/lang/en-us.php</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;apidoc&#39;</span>    <span class="token operator">=&gt;</span>    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;apps.admin&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Admin&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;group.base&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Base Module&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;headers.shopId&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Shop Id&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;params.code&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Code&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;responses.code&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Code&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;responses.message&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Message&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;doc.about&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;About&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.title&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;Language Api&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.desc&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;This is a language Test Api&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.age&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;Age&quot;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;api.lang.name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;Name&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置文件中使用" tabindex="-1"><a class="header-anchor" href="#配置文件中使用" aria-hidden="true">#</a> 配置文件中使用</h3><blockquote><p>如下例子中的参数位置可使用 <code>lang(多语言变量)</code> 来引用多语言变量</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// /config/apidoc.php</span>
<span class="token string single-quoted-string">&#39;apps&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;title&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.apps.admin)&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;path&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;app\\admin\\controller&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;folder&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;admin&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;groups&#39;</span>             <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.group.base)&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;nouse&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token string single-quoted-string">&#39;params&#39;</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
    <span class="token comment">// 统一的请求Header</span>
    <span class="token string single-quoted-string">&#39;header&#39;</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;ShopId&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;string&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;desc&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.headers.shopId)&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 统一的请求参数Query</span>
    <span class="token string single-quoted-string">&#39;query&#39;</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;code&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;string&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;desc&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.params.code)&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 统一的请求响应体</span>
<span class="token string single-quoted-string">&#39;responses&#39;</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;success&#39;</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;code&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;desc&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.responses.code)&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;int&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;message&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;desc&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.responses.message)&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;string&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// md文档</span>
<span class="token string single-quoted-string">&#39;docs&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;lang(apidoc.doc.about)&#39;</span><span class="token punctuation">,</span><span class="token string single-quoted-string">&#39;path&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;docs/readme&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="接口注解多语言" tabindex="-1"><a class="header-anchor" href="#接口注解多语言" aria-hidden="true">#</a> 接口注解多语言</h2><p>如果的项目存在多种语言，希望在API接口的参数说明也能进行多语言切换，可对注解进行多语言变量引用</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token doc-comment comment">/**
 * @Apidoc\\Title (&quot;lang(apidoc.api.lang.title)&quot;)
 * @Apidoc\\Desc (&quot;lang(apidoc.api.lang.desc)&quot;)
 * @Apidoc\\Param(&quot;age&quot;,type=&quot;int&quot;,desc=&quot;lang(apidoc.api.lang.age)&quot;)
 * @Apidoc\\Returned(&quot;name&quot;,type=&quot;string&quot;,desc=&quot;lang(apidoc.api.lang.name)&quot;)
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">lang</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据表字段描述" tabindex="-1"><a class="header-anchor" href="#数据表字段描述" aria-hidden="true">#</a> 数据表字段描述</h2><p>通常很多接口中的字段描述是通过ref解析模型对应的数据表注释来得到的，当我们希望apidoc读取数据表注释时，也能实现多语言切换，只需要在字段注释中加入<code>lang(xxx)</code>即可，如下：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token string backtick-quoted-string">\`user\`</span> <span class="token punctuation">(</span>↵  
  <span class="token string backtick-quoted-string">\`id\`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">AUTO_INCREMENT</span> <span class="token constant">COMMENT</span> <span class="token string single-quoted-string">&#39;用户id&#39;</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`username\`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">COMMENT</span> <span class="token string single-quoted-string">&#39;用户名，lang(apidoc.table.user.username)&#39;</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`nickname\`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span> <span class="token constant">COMMENT</span> <span class="token string single-quoted-string">&#39;昵称，lang(apidoc.table.user.nickname)&#39;</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`password\`</span> <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">COMMENT</span> <span class="token string single-quoted-string">&#39;登录密码，lang(apidoc.table.user.password)&#39;</span><span class="token punctuation">,</span>
<span class="token constant">PRIMARY</span> <span class="token function">KEY</span> <span class="token punctuation">(</span><span class="token string backtick-quoted-string">\`id\`</span><span class="token punctuation">)</span>↵<span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token constant">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">23</span> <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如上例子中，字段注释中加入了<code>lang(xxx)</code>的内容，apidoc在解析该字段时，会使用多语言变量进行输出。</p>`,21),o=[p];function i(c,l){return s(),a("div",null,o)}const d=n(e,[["render",i],["__file","lang.html.vue"]]);export{d as default};
