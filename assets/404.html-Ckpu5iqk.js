import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,g as s,f as a,b as p,e as h,a as n,h as d,r,o as k}from"./app-BzzORN4K.js";const c="/images/error-400.png",o={};function g(u,i){const e=r("RouteLink");return k(),t("div",null,[i[3]||(i[3]=s("h1",{id:"_404错误",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_404错误"},[s("span",null,"404错误")])],-1)),i[4]||(i[4]=s("h2",{id:"页面不存在",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#页面不存在"},[s("span",null,"页面不存在")])],-1)),i[5]||(i[5]=s("p",null,"访问Apidoc页面，无法正常显示apidoc前端页面，报出404页面不存在",-1)),i[6]||(i[6]=s("p",null,"解决方案：",-1)),i[7]||(i[7]=s("p",null,"1、检查apidoc前端文件是否放在正确的位置（通常在public目录下），以及前端文件夹命名是否正确（默认为apidoc）。",-1)),s("p",null,[i[1]||(i[1]=a("2、检查运行环境或框架是否关闭了静态资源的访问，如Hyperf需要手动开启静态资源访问的（")),p(e,{to:"/help/courses/hyperf-install.html#_3%E3%80%81%E9%85%8D%E7%BD%AEhyperf%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE"},{default:h(()=>i[0]||(i[0]=[a("配置Hyperf静态资源访问")])),_:1}),i[2]||(i[2]=a("）。"))]),i[8]||(i[8]=n('<h2 id="页面提示错误" tabindex="-1"><a class="header-anchor" href="#页面提示错误"><span>页面提示错误</span></a></h2><figure><img src="'+c+`" alt="error-400" tabindex="0" loading="lazy"><figcaption>error-400</figcaption></figure><blockquote><p>访问apidoc页面时，以下几个原因有可能导致页面显示 404 错误</p></blockquote><p>通常该问题会报出 <code>Request failed with status code 404</code> 或<code>Cannot read property &#39;config&#39; of undefined</code> 或<code>当前访问路由未定义或不匹配</code>等错误。</p><p>这并不是文件不存在，而是apidoc会自动注册一些所需的路由，由于某种原因导致未注册成功</p><h3 id="_1、伪静态配置" tabindex="-1"><a class="header-anchor" href="#_1、伪静态配置"><span>1、伪静态配置</span></a></h3><p><code>Tp5.1</code>、<code>Tp6</code>、<code>Laravel</code>通过Nginx/Apache代理的网站，如果没有正确配置项目伪静态规则，可能会导致无法正常访问路由</p><h4 id="解决方案1-配置伪静态规则" tabindex="-1"><a class="header-anchor" href="#解决方案1-配置伪静态规则"><span>解决方案1：配置伪静态规则</span></a></h4><blockquote><p>以下为Tp6的伪静态规则，其它框架请自行到官网查看</p></blockquote><ul><li>Apache</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;IfModule mod_rewrite.c&gt;</span></span>
<span class="line"><span>  Options +FollowSymlinks -Multiviews</span></span>
<span class="line"><span>  RewriteEngine On</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  RewriteCond %{REQUEST_FILENAME} !-d</span></span>
<span class="line"><span>  RewriteCond %{REQUEST_FILENAME} !-f</span></span>
<span class="line"><span>  RewriteRule ^(.*)$ index.php?$1 [QSA,PT,L]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  SetEnvIf Authorization .+ HTTP_AUTHORIZATION=$0</span></span>
<span class="line"><span>&lt;/IfModule&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Nginx</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>location / {</span></span>
<span class="line"><span>    if (!-e $request_filename){</span></span>
<span class="line"><span>    rewrite ^(.*)$ /index.php?s=$1 last; </span></span>
<span class="line"><span>    break;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="解决方案2-配置前端项目请求host参数" tabindex="-1"><a class="header-anchor" href="#解决方案2-配置前端项目请求host参数"><span>解决方案2：配置前端项目请求host参数：</span></a></h4><blockquote><p>以下index.php为tp5.1/tp6的，其它框架视情况而定</p></blockquote><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// public/apidoc/config.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 请求地址host</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  HTTP</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    HOSTS</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        host</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/index.php&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)),d(` ### 2、 手动注册路由

::: warning 注意
Tp5.1、Tp6、Laravel、Webman、Hyperf框架跳过！！！

以上框架已内置注册了Apidoc所需路由，无需再手动注册
:::

其它手动兼容的框架需手动注册Apidoc所需路由，具体请参考相关框架的安装文档。 `),i[9]||(i[9]=n(`<h3 id="_2、项目根目录配置问题" tabindex="-1"><a class="header-anchor" href="#_2、项目根目录配置问题"><span>2、项目根目录配置问题</span></a></h3><p>有的用户配置站点目录为项目根目录或更上级目录，而网站的入口文件在public目录，就会导致无法正确的访问路由，也会报出404 <code>Cannot read property &#39;config&#39; of undefined</code> 的错误</p><p>解决方案1：将站点目录配置正确的目录，并正确配置伪静态。</p><p>解决方案2：配置前端项目请求host参数：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// public/apidoc/config.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 请求地址host</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  HTTP</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    HOSTS</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        host</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/public/index.php&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、apidoc路由未注册成功" tabindex="-1"><a class="header-anchor" href="#_3、apidoc路由未注册成功"><span>3、apidoc路由未注册成功</span></a></h3><p>基于其它一些二次封装过的项目框架使用apidoc时，由于项目可能对路由进行过调整，导致apidoc插件的路由无法自动注册成功。</p><p>解决方案：可尝试在你的项目中添加以下路由</p><div class="language-php line-numbers-mode" data-highlighter="shiki" data-ext="php" data-title="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> hg\\apidoc\\providers\\</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CommonService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> * Apidoc Routes</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CommonService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">registerApidocRoutes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 这里的路由注册根据自身框架调整</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">  Router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addRoute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;method&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;uri&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;callback&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9))])}const m=l(o,[["render",g],["__file","404.html.vue"]]),v=JSON.parse('{"path":"/help/problems/404.html","title":"404错误","lang":"zh-CN","frontmatter":{"description":"404错误 页面不存在 访问Apidoc页面，无法正常显示apidoc前端页面，报出404页面不存在 解决方案： 1、检查apidoc前端文件是否放在正确的位置（通常在public目录下），以及前端文件夹命名是否正确（默认为apidoc）。 2、检查运行环境或框架是否关闭了静态资源的访问，如Hyperf需要手动开启静态资源访问的（）。 页面提示错误 e...","head":[["meta",{"property":"og:url","content":"https://docs.apidoc.icu/help/problems/404.html"}],["meta",{"property":"og:site_name","content":"Apidoc"}],["meta",{"property":"og:title","content":"404错误"}],["meta",{"property":"og:description","content":"404错误 页面不存在 访问Apidoc页面，无法正常显示apidoc前端页面，报出404页面不存在 解决方案： 1、检查apidoc前端文件是否放在正确的位置（通常在public目录下），以及前端文件夹命名是否正确（默认为apidoc）。 2、检查运行环境或框架是否关闭了静态资源的访问，如Hyperf需要手动开启静态资源访问的（）。 页面提示错误 e..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docs.apidoc.icu/images/error-400.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-22T03:29:56.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-22T03:29:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"404错误\\",\\"image\\":[\\"https://docs.apidoc.icu/images/error-400.png\\"],\\"dateModified\\":\\"2024-03-22T03:29:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"HG\\",\\"url\\":\\"https://github.com/HGthecode\\"}]}"]]},"headers":[{"level":2,"title":"页面不存在","slug":"页面不存在","link":"#页面不存在","children":[]},{"level":2,"title":"页面提示错误","slug":"页面提示错误","link":"#页面提示错误","children":[{"level":3,"title":"1、伪静态配置","slug":"_1、伪静态配置","link":"#_1、伪静态配置","children":[]},{"level":3,"title":"2、项目根目录配置问题","slug":"_2、项目根目录配置问题","link":"#_2、项目根目录配置问题","children":[]},{"level":3,"title":"3、apidoc路由未注册成功","slug":"_3、apidoc路由未注册成功","link":"#_3、apidoc路由未注册成功","children":[]}]}],"git":{"createdTime":1667375591000,"updatedTime":1711078196000,"contributors":[{"name":"HG","username":"HG","email":"36032426+HGthecode@users.noreply.github.com","commits":5,"url":"https://github.com/HG"}]},"readingTime":{"minutes":2.43,"words":728},"filePathRelative":"help/problems/404.md","localizedDate":"2022年11月2日","autoDesc":true}');export{m as comp,v as data};
